{"version":3,"sources":["components/calc/logic/displayLogic.js","components/calc/display.js","components/calc/calcButton.js","components/calc/buttonsContainer.js","components/calc/logic/operate.js","components/calc/logic/calculate.js","components/calc/warning.js","components/calc.js","app.js","index.js"],"names":["displayLogic","total","next","operation","display","holder","operationChar","Display","props","classOperation","classHolder","className","defaultProps","CalcButton","value","colored","span","classList","type","ButtonsContainer","click","keyDown","onClick","onKeyDown","name","operate","numberOne","numberTwo","one","Big","two","plus","toString","minus","times","div","mod","Error","isNumber","item","match","Warning","warning","Calc","useState","calc","setCalc","badDivision","setBadDivision","useEffect","setTimeout","updateState","obj","key","length","buttonName","undefined","includes","parseFloat","calculate","e","target","dataset","handleClick","preventDefault","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8cf6df95.chunk.js","sourcesContent":["const displayLogic = (total, next, operation) => {\n  let display = 0;\n  let holder = 0;\n  let operationChar = 0;\n  if (operation) {\n    operationChar = operation;\n  }\n  if (total) {\n    display = total;\n  }\n  if (next) {\n    display = next;\n  }\n  if (total && operation) {\n    display = ' ';\n    holder = total;\n    if (next) {\n      display = next;\n    }\n  }\n  return { display, holder, operationChar };\n};\n\nexport default displayLogic;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport displayLogic from './logic/displayLogic';\n\nconst Display = (props) => {\n  const { total, next, operation } = props;\n  const { operationChar, holder, display } = displayLogic(total, next, operation);\n  let classOperation = 'display__operation';\n  if (operationChar === 0) {\n    classOperation = 'display__operation no-opacity';\n  }\n  let classHolder = 'display__holder';\n  if (holder === 0) {\n    classHolder = 'display__holder no-opacity';\n  }\n  return (\n    <div className=\"calc__display\">\n      <div className={classOperation}>{operationChar}</div>\n      <div className={classHolder}>{holder}</div>\n      <div className=\"display__next\">{display}</div>\n    </div>\n  );\n};\n\nDisplay.propTypes = {\n  total: PropTypes.string,\n  next: PropTypes.string,\n  operation: PropTypes.string,\n};\n\nDisplay.defaultProps = {\n  total: '',\n  next: '',\n  operation: '',\n};\n\nexport { Display as default };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst CalcButton = (props) => {\n  const { value, colored, span } = props;\n  const classList = `calc__btn\n      ${colored ? ' btn--colored' : ''} \n      ${span !== 1 ? ` btn--span-${span}` : ''}`;\n  return (\n    <button type=\"button\" className={classList} data-name={value}>\n      {value}\n    </button>\n  );\n};\n\nCalcButton.propTypes = {\n  value: PropTypes.string,\n  colored: PropTypes.bool,\n  span: PropTypes.number,\n};\n\nCalcButton.defaultProps = {\n  value: 'X',\n  colored: false,\n  span: 1,\n};\n\nexport { CalcButton as default };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CalcButton from './calcButton';\n\nconst ButtonsContainer = (props) => {\n  const { click, keyDown } = props;\n  return (\n    <div className=\"calc__btns-container\" onClick={click} onKeyDown={keyDown} aria-hidden=\"true\">\n      <CalcButton name=\"clear\" value=\"AC\" />\n      <CalcButton name=\"sign\" value=\"+/-\" />\n      <CalcButton name=\"percentage\" value=\"%\" />\n      <CalcButton name=\"division\" value=\"รท\" colored />\n\n      <CalcButton name=\"number\" value=\"7\" />\n      <CalcButton name=\"number\" value=\"8\" />\n      <CalcButton name=\"number\" value=\"9\" />\n      <CalcButton name=\"mult\" value=\"x\" colored />\n\n      <CalcButton name=\"number\" value=\"4\" />\n      <CalcButton name=\"number\" value=\"5\" />\n      <CalcButton name=\"number\" value=\"6\" />\n      <CalcButton name=\"substr\" value=\"-\" colored />\n\n      <CalcButton name=\"number\" value=\"1\" />\n      <CalcButton name=\"number\" value=\"2\" />\n      <CalcButton name=\"number\" value=\"3\" />\n      <CalcButton name=\"sum\" value=\"+\" colored />\n\n      <CalcButton name=\"number\" value=\"0\" span={2} />\n      <CalcButton name=\"floating\" value=\".\" />\n      <CalcButton name=\"result\" value=\"=\" colored />\n    </div>\n  );\n};\n\nButtonsContainer.propTypes = {\n  click: PropTypes.func,\n  keyDown: PropTypes.func,\n};\n\nButtonsContainer.defaultProps = {\n  click: () => -1,\n  keyDown: () => -1,\n};\n\nexport { ButtonsContainer as default };\n","// eslint-disable-next-line react/prefer-stateless-function\nimport Big from 'big.js';\n\nexport default function operate(numberOne, numberTwo, operation) {\n  const one = Big(numberOne);\n  const two = Big(numberTwo);\n  if (operation === '+') {\n    return one.plus(two).toString();\n  }\n  if (operation === '-') {\n    return one.minus(two).toString();\n  }\n  if (operation === 'x') {\n    return one.times(two).toString();\n  }\n  try {\n    if (operation === 'รท') {\n      return one.div(two).toString();\n    }\n  } catch {\n    return 'Undefined';\n  }\n  try {\n    if (operation === '%') {\n      return one.mod(two).toString();\n    }\n  } catch {\n    return 'Undefined';\n  }\n  throw Error(`Unknown operation '${operation}'`);\n}\n","import operate from './operate';\n\nfunction isNumber(item) {\n  return !!item.match(/[0-9]+/);\n}\n\n/**\n * Given a button name and a calculator data object, return an updated\n * calculator data object.\n *\n * Calculator data object contains:\n *   total:s      the running total\n *   next:String       the next number to be operated on with the total\n *   operation:String  +, -, etc.\n */\nfunction calculate(obj, buttonName) {\n  if (buttonName === undefined) {\n    return {};\n  }\n\n  if (buttonName === 'AC') {\n    return {\n      total: null,\n      next: null,\n      operation: null,\n    };\n  }\n\n  if (isNumber(buttonName)) {\n    if (buttonName === '0' && obj.next === '0') {\n      return {};\n    }\n    // If there is an operation, update next\n    if (obj.operation) {\n      if (obj.next) {\n        return { next: obj.next + buttonName };\n      }\n      return { next: buttonName };\n    }\n    // If there is no operation, update next and clear the value\n    if (obj.next) {\n      return {\n        next: obj.next + buttonName,\n        total: null,\n      };\n    }\n    return {\n      next: buttonName,\n      total: null,\n    };\n  }\n\n  if (buttonName === '.') {\n    if (obj.next) {\n      if (obj.next.includes('.')) {\n        return {};\n      }\n      return { next: `${obj.next}.` };\n    }\n    if (obj.operation) {\n      return { next: '0.' };\n    }\n    if (obj.total) {\n      if (obj.total.includes('.')) {\n        return {};\n      }\n      return { total: `${obj.next}.` };\n    }\n    return { total: '0.' };\n  }\n\n  if (buttonName === '=') {\n    if (obj.next && obj.operation) {\n      return {\n        total: operate(obj.total, obj.next, obj.operation),\n        next: null,\n        operation: null,\n      };\n    }\n    // '=' with no operation, nothing to do\n    return {};\n  }\n\n  if (buttonName === '+/-') {\n    if (obj.next) {\n      return { next: (-1 * parseFloat(obj.next)).toString() };\n    }\n    if (obj.total) {\n      return { total: (-1 * parseFloat(obj.total)).toString() };\n    }\n    return {};\n  }\n\n  // Button must be an operation\n\n  // When the user presses an operation button without having entered\n  // a number first, do nothing.\n  if (!obj.next && !obj.total) {\n    return {};\n  }\n\n  // The user hasn't typed a number yet, just save the operation\n  if (!obj.next) {\n    return { operation: buttonName };\n  }\n\n  // User pressed an operation button and there is an existing operation\n  if (obj.operation) {\n    return {\n      total: operate(obj.total, obj.next, obj.operation),\n      next: null,\n      operation: buttonName,\n    };\n  }\n\n  // no operation yet, but the user typed one\n\n  // save the operation and shift 'next' into 'total'\n  return {\n    total: obj.next,\n    next: null,\n    operation: buttonName,\n  };\n}\n\nexport { isNumber, calculate };\n","import PropTypes from 'prop-types';\n\nconst Warning = (props) => {\n  const { warning } = props;\n  const warningValue = 'DO NOT DIVIDE BY 0! AGAIN, DO NOT DIVIDE BY 0!!!';\n\n  let classList = 'warning';\n  if (warning) {\n    classList = 'warning warning--active';\n  }\n\n  return (\n    <div className={classList}>\n      <i className=\"fas fa-radiation\" />\n      <p>{warningValue}</p>\n    </div>\n  );\n};\n\nWarning.propTypes = {\n  warning: PropTypes.bool,\n};\n\nWarning.defaultProps = {\n  warning: false,\n};\n\nexport default Warning;\n","import React, { useEffect, useState } from 'react';\nimport Display from './calc/display';\nimport ButtonsContainer from './calc/buttonsContainer';\nimport { isNumber, calculate } from './calc/logic/calculate';\nimport './calc.css';\nimport Warning from './calc/warning';\n\nconst Calc = () => {\n  const [calc, setCalc] = useState({ total: null, next: null, operation: null });\n\n  const [badDivision, setBadDivision] = useState(false);\n  useEffect(() => {\n    if (badDivision) {\n      setTimeout(() => {\n        setBadDivision(false);\n      }, 5000);\n    }\n  });\n\n  const maxLength = 20;\n\n  const updateState = (obj, key) => {\n    if (obj.next !== null && obj.next.length >= maxLength && isNumber(key)) {\n      return;\n    }\n\n    let { total, next, operation } = calculate(obj, key);\n\n    if (total === undefined) {\n      total = obj.total;\n    }\n    if (next === undefined) {\n      next = obj.next;\n    }\n    if (operation === undefined) {\n      operation = obj.operation;\n    }\n\n    if (total === 'Undefined') {\n      setBadDivision(true);\n      setCalc({ total: null, next: null, operation: null });\n    } else {\n      setCalc({ total, next, operation });\n    }\n  };\n\n  const handleClick = (obj, e) => {\n    updateState(obj, e.target.dataset.name);\n  };\n\n  const handleKeyDown = (e) => {\n    e.preventDefault();\n  };\n\n  const { total, next, operation } = calc;\n\n  return (\n    <div className=\"calc\">\n      <Display total={total} next={next} operation={operation} />\n      <ButtonsContainer click={(e) => handleClick(calc, e)} keyDown={handleKeyDown} />\n      <Warning warning={badDivision} />\n    </div>\n  );\n};\n\nexport default Calc;\n","import React from 'react';\nimport Calc from './components/calc';\n\nconst App = () => (\n  <div className=\"App\">\n    <Calc />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport 'modern-css-reset';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}