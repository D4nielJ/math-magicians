{"version":3,"sources":["components/calc/display.js","components/calc/calcButton.js","components/calc/buttonsContainer.js","components/calc/logic/operate.js","components/calc.js","components/calc/logic/calculate.js","app.js","index.js"],"names":["Display","props","state","this","total","next","display","className","React","Component","defaultProps","CalcButton","value","colored","span","classList","type","ButtonsContainer","click","keyDown","onClick","onKeyDown","name","operate","numberOne","numberTwo","operation","one","Big","two","plus","toString","minus","times","div","mod","Error","Calc","handleClick","e","updateState","target","dataset","handleKeyDown","preventDefault","key","a","obj","buttonName","match","includes","parseFloat","setState","bind","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12930deb.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Display extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { total, next } = this.props;\n    let display = '0';\n    if (total) {\n      display = total;\n    }\n    if (next) {\n      display = next;\n    }\n    return <div className=\"calc__display\">{display}</div>;\n  }\n}\n\nDisplay.propTypes = {\n  total: PropTypes.string,\n  next: PropTypes.string,\n};\n\nDisplay.defaultProps = {\n  total: '',\n  next: '',\n};\n\nexport { Display as default };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass CalcButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { value, colored, span } = this.props;\n    const classList = `calc__btn\n      ${colored ? ' btn--colored' : ''} \n      ${span !== 1 ? ` btn--span-${span}` : ''}`;\n    return (\n      <button type=\"button\" className={classList} data-name={value}>\n        {value}\n      </button>\n    );\n  }\n}\n\nCalcButton.propTypes = {\n  value: PropTypes.string,\n  colored: PropTypes.bool,\n  span: PropTypes.number,\n};\n\nCalcButton.defaultProps = {\n  value: 'X',\n  colored: false,\n  span: 1,\n};\n\nexport { CalcButton as default };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CalcButton from './calcButton';\n\nclass ButtonsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { click, keyDown } = this.props;\n    return (\n      <div\n        className=\"calc__btns-container\"\n        onClick={click}\n        onKeyDown={keyDown}\n        aria-hidden=\"true\"\n      >\n        <CalcButton name=\"clear\" value=\"AC\" />\n        <CalcButton name=\"sign\" value=\"+/-\" />\n        <CalcButton name=\"percentage\" value=\"%\" />\n        <CalcButton name=\"division\" value=\"รท\" colored />\n\n        <CalcButton name=\"number\" value=\"7\" />\n        <CalcButton name=\"number\" value=\"8\" />\n        <CalcButton name=\"number\" value=\"9\" />\n        <CalcButton name=\"mult\" value=\"x\" colored />\n\n        <CalcButton name=\"number\" value=\"4\" />\n        <CalcButton name=\"number\" value=\"5\" />\n        <CalcButton name=\"number\" value=\"6\" />\n        <CalcButton name=\"substr\" value=\"-\" colored />\n\n        <CalcButton name=\"number\" value=\"1\" />\n        <CalcButton name=\"number\" value=\"2\" />\n        <CalcButton name=\"number\" value=\"3\" />\n        <CalcButton name=\"sum\" value=\"+\" colored />\n\n        <CalcButton name=\"number\" value=\"0\" span={2} />\n        <CalcButton name=\"floating\" value=\".\" />\n        <CalcButton name=\"result\" value=\"=\" colored />\n      </div>\n    );\n  }\n}\n\nButtonsContainer.propTypes = {\n  click: PropTypes.func,\n  keyDown: PropTypes.func,\n};\n\nButtonsContainer.defaultProps = {\n  click: () => -1,\n  keyDown: () => -1,\n};\n\nexport { ButtonsContainer as default };\n","// eslint-disable-next-line react/prefer-stateless-function\nimport Big from 'big.js';\n\nexport default function operate(numberOne, numberTwo, operation) {\n  const one = Big(numberOne);\n  const two = Big(numberTwo);\n  if (operation === '+') {\n    return one.plus(two).toString();\n  }\n  if (operation === '-') {\n    return one.minus(two).toString();\n  }\n  if (operation === 'x') {\n    return one.times(two).toString();\n  }\n  if (operation === 'รท') {\n    return one.div(two).toString();\n  }\n  if (operation === '%') {\n    return one.mod(two).toString();\n  }\n  throw Error(`Unknown operation '${operation}'`);\n}\n","import React from 'react';\nimport Display from './calc/display';\nimport ButtonsContainer from './calc/buttonsContainer';\nimport calculate from './calc/logic/calculate';\nimport './calc.css';\n\nclass Calc extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total: null,\n      next: null,\n      operation: null,\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n\n  handleClick = (e) => {\n    this.updateState(e.target.dataset.name);\n  };\n\n  handleKeyDown = (e) => {\n    e.preventDefault();\n  };\n\n  updateState = async (key) => {\n    const { total, next, operation } = await calculate(this.state, key);\n    if (total || total === null) {\n      this.setState({\n        total,\n      });\n    }\n    if (next || next === null) {\n      this.setState({\n        next,\n      });\n    }\n    if (operation || operation === null) {\n      this.setState({\n        operation,\n      });\n    }\n  };\n\n  render() {\n    const { total, next } = this.state;\n    return (\n      <div className=\"calc\">\n        <Display total={total} next={next} />\n        <ButtonsContainer\n          click={this.handleClick}\n          keyDown={this.handleKeyDown}\n        />\n      </div>\n    );\n  }\n}\n\nexport { Calc as default };\n","import operate from './operate';\n\nfunction isNumber(item) {\n  return !!item.match(/[0-9]+/);\n}\n\n/**\n * Given a button name and a calculator data object, return an updated\n * calculator data object.\n *\n * Calculator data object contains:\n *   total:s      the running total\n *   next:String       the next number to be operated on with the total\n *   operation:String  +, -, etc.\n */\nexport default function calculate(obj, buttonName) {\n  if (buttonName === 'AC') {\n    return {\n      total: null,\n      next: null,\n      operation: null,\n    };\n  }\n\n  if (isNumber(buttonName)) {\n    if (buttonName === '0' && obj.next === '0') {\n      return {};\n    }\n    // If there is an operation, update next\n    if (obj.operation) {\n      if (obj.next) {\n        return { next: obj.next + buttonName };\n      }\n      return { next: buttonName };\n    }\n    // If there is no operation, update next and clear the value\n    if (obj.next) {\n      return {\n        next: obj.next + buttonName,\n        total: null,\n      };\n    }\n    return {\n      next: buttonName,\n      total: null,\n    };\n  }\n\n  if (buttonName === '.') {\n    if (obj.next) {\n      if (obj.next.includes('.')) {\n        return {};\n      }\n      return { next: `${obj.next}.` };\n    }\n    if (obj.operation) {\n      return { next: '0.' };\n    }\n    if (obj.total) {\n      if (obj.total.includes('.')) {\n        return {};\n      }\n      return { total: `${obj.next}.` };\n    }\n    return { total: '0.' };\n  }\n\n  if (buttonName === '=') {\n    if (obj.next && obj.operation) {\n      return {\n        total: operate(obj.total, obj.next, obj.operation),\n        next: null,\n        operation: null,\n      };\n    }\n    // '=' with no operation, nothing to do\n    return {};\n  }\n\n  if (buttonName === '+/-') {\n    if (obj.next) {\n      return { next: (-1 * parseFloat(obj.next)).toString() };\n    }\n    if (obj.total) {\n      return { total: (-1 * parseFloat(obj.total)).toString() };\n    }\n    return {};\n  }\n\n  // Button must be an operation\n\n  // When the user presses an operation button without having entered\n  // a number first, do nothing.\n  if (!obj.next && !obj.total) {\n    return {};\n  }\n\n  // The user hasn't typed a number yet, just save the operation\n  if (!obj.next) {\n    return { operation: buttonName };\n  }\n\n  // User pressed an operation button and there is an existing operation\n  if (obj.operation) {\n    return {\n      total: operate(obj.total, obj.next, obj.operation),\n      next: null,\n      operation: buttonName,\n    };\n  }\n\n  // no operation yet, but the user typed one\n\n  // save the operation and shift 'next' into 'total'\n  return {\n    total: obj.next,\n    next: null,\n    operation: buttonName,\n  };\n}\n","import React from 'react';\nimport Calc from './components/calc';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Calc />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport 'modern-css-reset';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}