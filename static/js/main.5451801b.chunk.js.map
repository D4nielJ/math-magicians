{"version":3,"sources":["components/calc/display.js","components/calc/calcButton.js","components/calc/buttonsContainer.js","components/calc/logic/operate.js","components/calc.js","components/calc/logic/calculate.js","app.js","index.js"],"names":["Display","this","props","total","next","display","className","React","Component","defaultProps","CalcButton","value","colored","span","classList","type","ButtonsContainer","click","keyDown","onClick","onKeyDown","name","console","log","operate","numberOne","numberTwo","operation","one","Big","two","plus","toString","minus","times","div","mod","Error","Calc","handleClick","e","updateState","target","dataset","handleKeyDown","keyCode","key","obj","buttonName","state","match","includes","parseFloat","setState","bind","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5451801b.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass Display extends React.Component {\n  render() {\n    const { total, next } = this.props;\n    let display = '0';\n    if (total) {\n      display = total;\n    }\n    if (next) {\n      display = next;\n    }\n    return <div className=\"calc__display\">{display}</div>;\n  }\n}\n\nDisplay.propTypes = {\n  total: PropTypes.string,\n  next: PropTypes.string,\n};\n\nDisplay.defaultProps = {\n  total: '',\n  next: '',\n};\n\nexport { Display as default };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass CalcButton extends React.Component {\n  render() {\n    const { value, colored, span } = this.props;\n    const classList = `calc__btn\n      ${colored ? ' btn--colored' : ''} \n      ${span !== 1 ? ` btn--span-${span}` : ''}`;\n    return (\n      <button type=\"button\" className={classList} data-name={value}>\n        {value}\n      </button>\n    );\n  }\n}\n\nCalcButton.propTypes = {\n  value: PropTypes.string,\n  colored: PropTypes.bool,\n  span: PropTypes.number,\n};\n\nCalcButton.defaultProps = {\n  value: 'X',\n  colored: false,\n  span: 1,\n};\n\nexport { CalcButton as default };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CalcButton from './calcButton';\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass ButtonsContainer extends React.Component {\n  render() {\n    const { click, keyDown } = this.props;\n    return (\n      <div\n        className=\"calc__btns-container\"\n        onClick={click}\n        onKeyDown={keyDown}\n        aria-hidden=\"true\"\n      >\n        <CalcButton name=\"clear\" value=\"AC\" />\n        <CalcButton name=\"sign\" value=\"+/-\" />\n        <CalcButton name=\"percentage\" value=\"%\" />\n        <CalcButton name=\"division\" value=\"รท\" colored />\n\n        <CalcButton name=\"number\" value=\"7\" />\n        <CalcButton name=\"number\" value=\"8\" />\n        <CalcButton name=\"number\" value=\"9\" />\n        <CalcButton name=\"mult\" value=\"x\" colored />\n\n        <CalcButton name=\"number\" value=\"4\" />\n        <CalcButton name=\"number\" value=\"5\" />\n        <CalcButton name=\"number\" value=\"6\" />\n        <CalcButton name=\"substr\" value=\"-\" colored />\n\n        <CalcButton name=\"number\" value=\"1\" />\n        <CalcButton name=\"number\" value=\"2\" />\n        <CalcButton name=\"number\" value=\"3\" />\n        <CalcButton name=\"sum\" value=\"+\" colored />\n\n        <CalcButton name=\"number\" value=\"0\" span={2} />\n        <CalcButton name=\"floating\" value=\".\" />\n        <CalcButton name=\"result\" value=\"=\" colored />\n      </div>\n    );\n  }\n}\n\nButtonsContainer.propTypes = {\n  click: PropTypes.func,\n  keyDown: PropTypes.func,\n};\n\nButtonsContainer.defaultProps = {\n  click: () => console.log(-1),\n  keyDown: () => console.log(-1),\n};\n\nexport { ButtonsContainer as default };\n","// eslint-disable-next-line react/prefer-stateless-function\nimport Big from 'big.js';\n\nexport default function operate(numberOne, numberTwo, operation) {\n  const one = Big(numberOne);\n  const two = Big(numberTwo);\n  if (operation === '+') {\n    return one.plus(two).toString();\n  }\n  if (operation === '-') {\n    return one.minus(two).toString();\n  }\n  if (operation === 'x') {\n    return one.times(two).toString();\n  }\n  if (operation === 'รท') {\n    return one.div(two).toString();\n  }\n  if (operation === '%') {\n    return one.mod(two).toString();\n  }\n  throw Error(`Unknown operation '${operation}'`);\n}\n","import React from 'react';\nimport Display from './calc/display';\nimport ButtonsContainer from './calc/buttonsContainer';\nimport calculate from './calc/logic/calculate';\nimport './calc.css';\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass Calc extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      total: null,\n      next: null,\n      operation: null,\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n\n  handleClick = (e) => {\n    this.updateState(e.target.dataset.name);\n  };\n\n  handleKeyDown = (e) => {\n    console.log(e.keyCode, this);\n  };\n\n  updateState = (key) => {\n    const { total, next, operation } = calculate(this.state, key);\n    if (total || total === null) {\n      this.setState({\n        total,\n      });\n    }\n    if (next || next === null) {\n      this.setState({\n        next,\n      });\n    }\n    if (operation || operation === null) {\n      this.setState({\n        operation,\n      });\n    }\n  };\n\n  render() {\n    const { total, next } = this.state;\n    return (\n      <div className=\"calc\">\n        <Display total={total} next={next} />\n        <ButtonsContainer\n          click={this.handleClick}\n          keyDown={this.handleKeyDown}\n        />\n      </div>\n    );\n  }\n}\n\nexport { Calc as default };\n","import operate from './operate';\n\nfunction isNumber(item) {\n  return !!item.match(/[0-9]+/);\n}\n\n/**\n * Given a button name and a calculator data object, return an updated\n * calculator data object.\n *\n * Calculator data object contains:\n *   total:s      the running total\n *   next:String       the next number to be operated on with the total\n *   operation:String  +, -, etc.\n */\nexport default function calculate(obj, buttonName) {\n  if (buttonName === 'AC') {\n    return {\n      total: null,\n      next: null,\n      operation: null,\n    };\n  }\n\n  if (isNumber(buttonName)) {\n    if (buttonName === '0' && obj.next === '0') {\n      return {};\n    }\n    // If there is an operation, update next\n    if (obj.operation) {\n      if (obj.next) {\n        return { next: obj.next + buttonName };\n      }\n      return { next: buttonName };\n    }\n    // If there is no operation, update next and clear the value\n    if (obj.next) {\n      return {\n        next: obj.next + buttonName,\n        total: null,\n      };\n    }\n    return {\n      next: buttonName,\n      total: null,\n    };\n  }\n\n  if (buttonName === '.') {\n    if (obj.next) {\n      if (obj.next.includes('.')) {\n        return {};\n      }\n      return { next: `${obj.next}.` };\n    }\n    if (obj.operation) {\n      return { next: '0.' };\n    }\n    if (obj.total) {\n      if (obj.total.includes('.')) {\n        return {};\n      }\n      return { total: `${obj.next}.` };\n    }\n    return { total: '0.' };\n  }\n\n  if (buttonName === '=') {\n    if (obj.next && obj.operation) {\n      return {\n        total: operate(obj.total, obj.next, obj.operation),\n        next: null,\n        operation: null,\n      };\n    }\n    // '=' with no operation, nothing to do\n    return {};\n  }\n\n  if (buttonName === '+/-') {\n    if (obj.next) {\n      return { next: (-1 * parseFloat(obj.next)).toString() };\n    }\n    if (obj.total) {\n      return { total: (-1 * parseFloat(obj.total)).toString() };\n    }\n    return {};\n  }\n\n  // Button must be an operation\n\n  // When the user presses an operation button without having entered\n  // a number first, do nothing.\n  if (!obj.next && !obj.total) {\n    return {};\n  }\n\n  // The user hasn't typed a number yet, just save the operation\n  if (!obj.next) {\n    return { operation: buttonName };\n  }\n\n  // User pressed an operation button and there is an existing operation\n  if (obj.operation) {\n    return {\n      total: operate(obj.total, obj.next, obj.operation),\n      next: null,\n      operation: buttonName,\n    };\n  }\n\n  // no operation yet, but the user typed one\n\n  // save the operation and shift 'next' into 'total'\n  return {\n    total: obj.next,\n    next: null,\n    operation: buttonName,\n  };\n}\n","import Calc from './components/calc';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Calc />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport 'modern-css-reset';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}